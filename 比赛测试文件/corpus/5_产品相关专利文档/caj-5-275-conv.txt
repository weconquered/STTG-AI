(19)中华人民共和国国家知识产权局
月发明专利申请蒸
申请号
申请日
优先权数据
一
丁国际申请进入国家阶段日
申请公布号
申请公布日
专利代理机构北京林达刘知识产权代理事
务所普通合伙
代理人刘新宇
尸刀
汽刀
丁国际申请的申请数据
丁国际申请的公布数据
申请人旭化成株式会社
地址日本东京都
发明人冈本明浩
权利要求书页说明书页附图页
发明名称
输入设备、生物体传感器、程序、计算机可读
取的介质以及模式设定方法
摘要
本发明的目的在于提供一种能够使进行是
否设定被控制对象的模式的判定的错误减少的
输入设备、生物体传感器、程序、计算机可读取的
介质以及模式设定方法。输入设备具备传
感器信号获取部,其获取传感器信号波形
对照部,其将传感器信号中的两个以上的
时间区间的波形彼此对照以及模式设定部
,其基于波形对照部的对照结果来设
定被控制对象装置的模式。
寸CNIO64891llA权利要求书页
一种输入设备,其特征在于,具备
传感器信号获取部,其获取传感器信号
波形对照部,其将所述传感器信号中的两个以上的时间区间的波形彼此对照以及
模式设定部,其基于所述波形对照部的对照结果来设定被控制对象装置的模式。
根据权利要求所述的输入设备,其特征在于,
所述传感器信号是由构成为能够佩戴于生物体的传感器进行采样所得到的信号。
根据权利要求所述的输入设备,其特征在于,
所述传感器信号是由红外线传感器进行采样所得到的信号。
根据权利要求一中的任一项所述的输入设备,其特征在于,
所述两个以上的时间区间是在时间轴上相邻的两个区间。
根据权利要求一中的任一项所述的输入设备,其特征在于,
允许所述两个以上的时间区间互相重合或分离相当于规定时间以内的时间的采样数。
根据权利要求一中的任一项所述的输入设备,其特征在于,
在所述两个以上的时间区间的波形大致相同的情况下,所述模式设定部设定所述被控
制对象装置的模式。
根据权利要求所述的输入设备,其特征在于,
所述模式设定部根据被判定为大致相同的所述波形的时间长度来设定所述被控制对
象装置的模式。
根据权利要求一中的任一项所述的输入设备,其特征在于,
还具备评价数据串存储部,该评价数据串存储部存储评价数据,其中,该评价数据是所
述传感器信号,或者是通过规定的加工方法对所述传感器信号进行加工所得到的数据。
根据权利要求所述的输入设备,其特征在于,
所述波形对照部根据所述两个以上的时间区间的波形的相关系数进行对照。
根据权利要求所述的输入设备,其特征在于,
所述波形对照部根据所述两个以上的时间区间内的按时间序列对应的每个所述评价
数据的值的差或通过规定的加工方法对该差进行加工所得到的值来进行对照。
根据权利要求所述的输入设备,其特征在于,
所述波形对照部还具备状态信息串存储部,
所述波形对照部将符号相同的所述评价数据连续的区间设为作为一个单位的小区间,
将符号信息、表示属于该小区间的评价数据的个数的区间长度、以及表示属于该小区间的
评价数据的值的总和或该值的绝对值的总和的面积设为状态信息,以小区间为单位将该状
态信息按时间序列存储到所述状态信息串存储部中,
所述波形对照部根据相邻的两个时间区间内的按时间序列对应的每个所述小区间的
所述状态信息来进行对照。
根据权利要求所述的输入设备,其特征在于,
关于所述符号信息,设置预先设定的阂值或能够根据输入信号的大小被自动调整的阂
值,在所述评价数据的绝对值小于该阂值的情况下,将该评价数据置换为,从而以正、负以
及这种模式构成符号信息。
根据权利要求所述的输入设备,其特征在于,cNlo64891llA权利要求书页
在判定为相邻的两个时间区间的波形彼此大致相同时,所述模式设定部进一步进行将
相对于该两个时间区间向过去回溯且相邻的区间的波形与被判定为大致相同的该波形对
照的对照处理,重复进行该对照处理来检测大致相同的波形连续的次数,所述模式设定部
对所述被控制对象装置设定与该次数相应的模式。
根据权利要求所述的输入设备,其特征在于,
在判定为所述两个以上的时间区间的波形彼此大致相同时,所述模式设定部等待分别
构成该两个以上的区间的评价数据的数量的新的评价数据的输入或与该数量相近的数量
的新的评价数据的输入,将新输入的该评价数据的波形与判定为大致相同的该波形对照。
根据权利要求所述的输入设备,其特征在于,
所述模式设定部还具备重复次数存储部,
当初次判定为所述两个以上的时间区间的波形彼此大致相同时,所述模式设定部对所
述重复次数存储部设定初始值。
根据权利要求所述的输入设备,其特征在于,
当再次判定为新输入的所述评价数据的波形与已被判定为大致相同的所述波形大致
相同时,所述模式设定部对所述重复次数存储部中存储的重复次数进行累加。
根据权利要求所述的输入设备,其特征在于,
所述被控制对象装置还具有音乐播放部,
所述模式设定部将被判定为是大致相同的波形的所述波形的时间长度换算为节拍,在
对该节拍与所述音乐播放部中正在播放的音乐的节拍进行比较而判断为具有相关性的情
况下,将是大致相同的波形的该判定废弃。
根据权利要求所述的输入设备,其特征在于,
进行所述对照的两个以上的区间在时间轴上不相邻,
在该两个以上的区间内播放音乐的环境下使用所述输入设备。
根据权利要求所述的输入设备,其特征在于,
在播放的所述音乐的节拍在所述两个以上的区间内不同的情况下,所述波形对照部根
据在进行所述对照的两个区间内播放的音乐的节拍的不同对进行所述对照的两个区间中
的一方的波形的信息进行编辑以使得能够视作该一方的波形的长度与另一方的区间的波
形的长度大致一致,之后进行对照。
根据权利要求一中的任一项所述的输入设备,其特征在于,
所述输入设备被用作所述被控制对象装置。
根据权利要求一中的任一项所述的输入设备,其特征在于,
所述被控制对象装置通过有线或无线或者经由网络而与所述输入设备连接。
一种使计算机作为根据权利要求一中的任一项所述的输入设备发挥功能的程
序。
一种具有根据权利要求所述的程序的计算机可读取的介质。
一种模式设定方法,其特征在于,
将传感器信号中的两个以上的时间区间的波形彼此对照,
基于所述波形彼此对照的结果来设定被控制对象装置的模式。
根据权利要求所述的模式设定方法,其特征在于,cNlo64891llA权利要求书页
所述传感器信号是由构成为能够佩戴于生物体的传感器进行采样所得到的信号。
根据权利要求所述的模式设定方法,其特征在于,
所述传感器信号是来自红外线传感器的采样信号。
一种佩戴于生物体来从该生物体获取生物体信息的生物体传感器,该生物体传感
器的特征在于,具备
传感器信号获取部,其获取进行采样所得到的传感器信号
波形对照部,其将所述传感器信号中的两个以上的时间区间的波形彼此对照以及
模式设定部,其基于所述波形对照部的对照结果来设定被控制对象装置的模式。
根据权利要求所述的生物体传感器,其特征在于,
关于所述生物体信息,将心率、脉搏、血压、血氧浓度、体温、呼吸、皮肤电阻、脑电波、眨
眼、步数中的任意的信息设为对象。
根据权利要求所述的生物体传感器,其特征在于,
所述波形对照部将由于所述生物体同所述传感器信号获取部之间的位置关系的变化
或接触状态的变化而产生的波形和来源于所述生物体信息的波形区分开来进行处理。
根据权利要求所述的生物体传感器,其特征在于,
所述波形对照部根据振幅的大小的不同来将由于所述位置关系的变化或接触状态的
变化而产生的波形和来源于所述生物体信息的波形区分开。
根据权利要求所述的生物体传感器,其特征在于,
在所述两个以上的时间区间的波形大致相同的情况下,所述模式设定部设定所述被控
制对象装置的模式。
根据权利要求所述的生物体传感器,其特征在于,
还具备能够佩戴于与所述生物体相同的生物体的加速度传感器或角速度传感器,
在以与被判定为大致相同的两个以上的时间区间大致相同的时刻且大致相同的时间
长度判定为在所述加速度传感器或所述角速度传感器中两个以上的时间区间的波形彼此
大致相同的情况下,将该生物体传感器中的是大致相同的波形的该判定废弃。CNIO64891llA说明书页
输入设备、生物体传感器、程序、计算机可读取的介质以及模
式设定方法
技术领域
本发明涉及一种输入由佩戴于用户的传感器探测用户的动作所得到的信号的输
入设备、生物体传感器、程序、计算机可读取的介质以及模式设定方法。
背景技术
专利文献中公开了如下方法预先登记以眨眼时闭着眼睛的时间的长度和睁着
眼睛的时间的长度为特征量的眨眼的图案,检测用户是否再现了与所登记的眨眼图案相同
图案的眨眼,来增加所能够切换的模式的种类。
专利文献日本特开一号公报
发明内容
发明要解决的问题
然而,在专利文献所记载的技术中,要预先登记眨眼的动作图案,因此在使用户
一个人一个人地登记眨眼的动作图案上花费工夫。并且,用户准确地再现与自己登记过的
眨眼动作相同的眨眼动作并不容易。另一方面,在预先对全部用户决定共同的眨眼动作图
案的方法中,要求用户准确地再现眨眼动作图案中的动作时间的长度,这并不容易。
即,上述的现有技术具有如下问题再现预先登记的眨眼动作图案并不容易,因此
使进行是否设定被控制对象的模式的判断错误的可能性高。
本发明的目的在于提供一种能够使进行是否设定被控制对象的模式的判定的错
误减少的输入设备、生物体传感器、程序、计算机可读取的介质以及模式设定方法。
用于解决问题的方案
为了实现上述目的,基于本发明的一个方式的输入设备的特征在于,具备传感器
信号获取部,其获取传感器信号波形对照部,其将所述传感器信号中的两个以上的时间区
间的波形彼此对照以及模式设定部,其基于所述波形对照部的对照结果来设定被控制对
象装置的模式。
为了实现上述目的,基于本发明的一个方式的程序的特征在于,使计算机作为上
述基于本发明的一个方式的输入设备发挥功能。
为了实现上述目的,基于本发明的一个方式的计算机可读取的介质的特征在于,
具有基于本发明的一个方式的程序。
为了实现上述目的,基于本发明的一个方式的模式设定方法的特征在于,将传感
器信号中的两个以上的时间区间的波形彼此对照,基于所述波形彼此对照的结果来设定被
控制对象装置的模式。
为了实现上述目的,基于本发明的一个方式的生物体传感器佩戴于生物体来从该
生物体获取生物体信息,该生物体传感器的特征在于,具备传感器信号获取部,其获取由
该生物体传感器进行采样所得到的传感器信号波形对照部,其将该传感器信号中的两个cNlo64891llA说明书页
以上的区间的波形彼此对照以及模式设定部,其基于所述波形对照部的对照结果来设定
被控制对象装置的模式。
发明的效果
根据本发明的各方式,能够使进行是否设定被控制对象的模式的判定的错误减
少。
附图说明
图是本发明的第一实施方式的输入设备的功能框图。
图是说明本发明的第一实施方式的图,是示出节奏与节拍的组
合的图。
图是说明发明的第一实施方式的图,是示出基于动作时间与动作次数的种变化
的图。
图是说明本发明的第一实施方式的图,是示出波形对照部中的使用了相关系
数的波形对照方法的流程的一例的流程图。
图是本发明的第二实施方式的输入设备的功能框图。
图是说明本发明的第二实施方式的图,是示出符号图案的曲线图。
图是说明本发明的第二实施方式的图,是示出波形对照部中的使用了符号图
案和面积的波形对照方法的流程的一例的流程图。
图是说明本发明的第二实施方式的图,是示出相关性判定处理的流程的一例的
流程图。
图是说明本发明的第三实施方式的图,是皮肤导电率传感器的外观图。
图是说明本发明的第三实施方式的图,是设置于皮肤导电率传感器的传感器信
号获取部的功能框图。
图是说明本发明的第三实施方式的图,是皮肤电阻传感器的信号的相临差的曲
线图。
图是本发明的第四实施方式的输入设备的功能框图。
图是说明本发明的第五实施方式的图,是示出佩戴于手腕的脉搏波传感器中的
检测波形的一例的图。
图是说明本发明的第五实施方式的图,是生物体传感器的功能框图。
图是说明本发明的第六实施方式的图,是将手移动时来自红外线传感器的信号
曲线图化所得到的图。
具体实施方式
第一实施方式
本发明的第一实施方式着眼于用户易于使某个动作有节奏地连续重复进行两次
以上,其特征在于,对进行采样所得到的输入信号能够被视作连续的两个周期的波形的程
度进行评价来切换被控制对象的模式。该重复动作不需要事前登记,可以由用户当场自由
地想出,并能够随时变更。以下对本实施方式的输入设备进行说明。
图是第一实施方式的输入设备的功能框图。cNlo64891llA说明书页
本实施方式的输入设备具备传感器信号获取部,其获取传感器信号波形
对照部,其将传感器信号中的两个以上的时间区间的波形彼此对照以及模式设定部
,其基于波形对照部的对照结果来设定被控制对象装置的模式。该传感器信号是由
构成为能够佩戴于生物体的传感器进行采样所得到的信号。另外,输入设备具备存储评
价数据的评价数据串存储部,其中,该评价数据是传感器信号,或者是通过规定的加工
方法对传感器信号进行加工所得到的数据。输入设备与作为模式设定对象的被控制对
象装置时目连接。输入设备与被控制对象装置通过有线或无线相连接,或者经由网
络相连接。例如在使用输入设备执行的模式设定方法中,由波形对照部将传感器信
号中的两个以上的时间区间的波形彼此对照,并由模式设定部基于波形彼此对照的结
果来设定被控制对象装置的模式。
传感器信号获取部是传感器的硬件部分。传感器信号获取部不仅可以是检
测用户的动作的加速度传感器或角速度传感器陀螺仪等运动传感器,也可以是例如检测
上下的动作的气压传感器。并且,传感器信号获取部还可以是通过在指尖佩戴磁体并在
手腕佩戴磁传感器来检测伴随手的动作的磁体与磁传感器之间的位置关系的变化的传感
器。
并且,传感器信号获取部还可以利用皮肤导电率传感器中的运动伪影
,该皮肤导电率传感器佩戴于手掌或手腕的内侧来测定两个电极之间的皮肤导
电率皮肤电阻的倒数从而检测用户的情绪的产生。运动伪影是由于用户的动作而皮肤与
电极的接触状态发生变化所产生的信号。运动伪影不是由情绪引起的信号,因此通常全部
作为噪声而被排除。同样地,在使用了发光二极管和光电二极管的脉搏波传感器
中也能够利用运动伪影。
本发明中使用的传感器不限定于上述的传感器。本发明中使用的传感器只要是能
够以固定时间间隔获取数字数据的传感器即可。即使是通常作为噪声而被排除的信号,若
其波形与用户的动作相应地变化,则这样的传感器全都为本发明中使用的传感器的对象。
另外,将皮肤导电率传感器和加速度传感器设置在佩戴于手腕的一个设备,当用
户在静止时进行手的开闭时,仅在皮肤导电率传感器中产生用户所意图那样的周期性的运
动伪影的信号,当用户走路或跑步时,在皮肤导电率传感器和加速度传感器这两方的传感
器中产生用户不意图的周期性的运动伪影的信号,利用上述情形,能够区分皮肤导电率传
感器中产生的周期性的运动伪影的信号是用户意图产生的信号还是用户不意图产生的信
号。也可以使用角速度传感器来代替加速度传感器。
波形对照部、模式设定部以及评价数据串存储部由未图示的具有
中央运算处理装置和存储器装置的微计算机实现。
波形对照部以由传感器信号获取部进行采样所得到的传感器信号为输入。
波形对照部可以将传感器信号直接作为评价数据。另外,波形对照部也可以取被输
入的传感器信号中的相邻的传感器信号的次差为以上来作为评价数据。
〕评价数据串存储部设置于上述的未图示的存储器装置中,按时间序列保存由
波形对照部生成的上述的评价数据。评价数据串存储部所存储的评价数据是传感器
信号或通过规定的加工方法对传感器信号进行加工所得到的数据。
取上述相邻的传感器信号的差所得到的相邻差不限于与前一个传感器信号之间CNIO64891llA说明书页
的差,也可以使用与个之前的传感器信号之间的差。通过将取得大,能够减小由传感器所
具有的电气性波动而产生的噪声的影响。优选的是,根据传感器的采样频率和由于用户的
动作而产生的波形变化的速度来设定该。例如在使用采样频率为的传感器来捕捉以
秒间隔变化的动作时,该被设定为一。
〕在上述的皮肤导电率传感器、脉搏波传感器中,通过取次差,能够得到值被平衡
良好地分配为正负的评价数据。因此,皮肤导电率传感器、脉搏波传感器在按后述的相同符
号的数据连续的图案进行对照时是优选的。此外,在着眼于相同符号的方法中,需要辨别传
感器信号长期处于上升趋势还是下降趋势来进行校正。已知在上述的皮肤导电率传感器
中,在佩戴后由于温热性发汗而皮肤传导率逐渐上升。此时例如为了捕捉两个周期的最大
长度为秒的动作,优选求出仅使用最近的秒以上的数据的中间值的数据所得到的相
加平均截尾均值来进行校正。
波形对照部根据两个以上的时间区间的波形的相关系数来将波形彼此对照。
在提供包括组数值的数据串,一,,…,时,如以下的文字式那样求出相
关系数。
数式〕
扮
艺恤,一八共一力
〕声丁弃拯不一`”川之是数据一的相加平均,
夕是数据一的相加平均。
在波形对照部中,对这样获取到的评价数据的波形能够被视作连续的两个周
期的波形的程度进行评价,并作为对照结果输出。对照结果的信息包含用户是否重复进行
了相同动作的信息、以及用户重复进行了相同动作的情况下的每次的动作时间和重复的次
数的信息。
在两个以上的时间区间的波形大致相同的情况下,模式设定部设定被控制对
象装置的模式,或者根据被判定为大致相同的波形的时间长度来设定被控制对象装置
的模式。例如,模式设定部以上述的对照结果为输入。在用户重复进行了相同动作的
情况下,模式设定部根据动作时间、动作次数来切换地设定被控制对象装置的模式。
为了增加动作时间的变化,优选使用节奏和节拍。
图是示出节奏与节拍的组合的图。图的示出动作时间短的组合,图的示
出动作时间普通的组合,图的示出动作时间长的组合。能够以“合上、打开”为组来以
节奏与节拍的组合增加切换的变化。
例如在图的的上部示出了通过加长每次合上手或打开手的时间来实现动作
时间长的组合的例子,但是实际上对用户来说难以有节奏地划分长的时间,期望如图的
的下部所示那样缩短每次合上手或打开手的时间。在图的的下部,一个区间中存在
两组“合上打开”的组,但是在前半部分的一组与后半部分的一组中开闭的速度即节奏不
同,因此不具有相关性,而在将后续的第二个区间中的两组与第一个区间中的两组之间进cNlo64891llA说明书页
行比较后初次判定为具有相关性。
能够如图的的上部、图的的下部所示的开闭要领那样设计以下动作该
动作是使两个区间的波形大致相同的动作,但该动作在个区间内不存在能够被视作大致
相同波形的波形,且用户能够以大致相同的节拍重复进行该动作。
图是示出基于动作时间与动作次数的种变化的图,是与以下的表相对应的波
形图。图中的上部与表所示的“动作时间”栏的“短”相对应,图中的中部与表所示的“动
作时间”栏的“普通”相对应,图中的下部与表所示的“动作时间”栏的“长”相对应。例如在
被控制对象装置为音乐播放器的情况下,将动作时间分类为短、普通、长这样的种,将动作
次数分类为一次这种,从而能够设定表的种模式。
在此,设想利用佩戴于手腕的皮肤导电率传感器来设定安装于智能手机、头戴式
耳机中的音乐播放器的模式的例子来进行了说明,但是传感器与被控制对象装置也可以相
互独立的设备,还能够将皮肤导电率传感器和音乐播放器安装于智能手表。
表〕
动动作时间间动作次数数素故才才亏`声丫丫
短短短卜次次正常播放暂停户决进快退的解除或暂停停次次使音量提高冬如如次次使音量降低妇妇
立立仓币币磷分分跳到一下一曲曲下下习尸丈口口`叉万从从从次次返回到该曲的开头头
次次返回到前一曲的开头头
长长长欺欺快进播放放次次快退播放放
次次声音识别等、乐曲选抒功能的调用用
或者也可以不利用阂值对动作时间进行分类,而根据动作时间计算节拍,自动地
选择与计算出的节拍匹配的乐曲。基于节拍的乐曲的自动选择在慢跑中选择与自己跑步的
节拍匹配的,背景音乐时是有用的。在被控制对象装置为游戏机的
情况下,还能够将动作时间换算为速度来控制游戏中的与速度有关的特性。基于检测出的
动作时间的控制对象不必限定于与时间、速度有关的特性,音量、明度、色彩、容积、面积、距
离、温度、湿度、硬度、角度等连续且平稳地变化的特性全部都能够成为控制对象。
对将波形对照部中的两个以上的时间区间的波形彼此对照的方法进行说明。
特别是,着眼于用户易于使某个动作有节奏地重复进行两次以上,针对输入信号能够被视
作连续的两个周期的波形的程度的评价方法,以上述的皮肤导电率传感器中采样频率为
的情况为例进行说明。cNlo64891llA说明书页
两个以上的时间区间是在时间轴上相邻的两个区间。当在像这样两个区间在时间
轴上相邻的情况下使用相关系数时,从最新的输入数据起回溯而将个数据设为个区间,
将从个之前到个之前为止的个数据设为比较对象的个区间,求出这两个区间的相
关系数。
每输入个传感器信号,就针对人所能够实施的动作时间的所有求出相关系数。
例如在将个周期为秒到秒设计为对象的情况下,使从个逐个地错位到个来针对
种计算相关系数,根据相关系数是否超过了预先设定的阂值来判定是否具有相关性。如
果为文字式所示的相关系数,则例如优选将设为阂值。显而易见的是,为了省略分
母的平方根的计算而将分子平方后与一相比较,由此能够削减处理量。
图是用于说明波形对照部中的使用了相关系数的波形对照方法的一例的流
程图。
在步骤中,由传感器信号获取部的传感器以固定时间间隔获取传感器信
号。
在步骤的接下来的步骤中,将从所获取到的传感器信号的值减去获取到
的前个传感器信号的值所得到的值作为评价数据。关于评价数据,一边从当前的评价数据
起向过去回溯一边赋予序号,标记为评价数据、评价数据。在以进行采样
且进行评价的个周期最大为秒的情况下,个区间中有个评价数据,在连续检查到次
的情况下,个区间中有个评价数据,因此在上述的评价数据串存储部中最大保存到
评价数据。然后,为了根据评价数据至评价数据以及评价数据
至评价数据的组合来求出相关系数,而对变量设置。
在步骤的接下来的步骤中,进行用于以下判定的判定处理如果变量为
以下,则重复进行用于求出相关系数的步骤,如果变量超过了,则前进到步骤
。
在步骤中,求出评价数据至评价数据与评价数据至评
价数据的相关系数,作为相关系数保存到上述的波形对照部的未图示的存
储器装置中。对还承担循环处理的计数器作用的变量加后返回到步骤。
在步骤中,求出相关系数至相关系数中的最大值的相关系数。
在步骤的接下来的步骤中,进行用于以下判定的判定处理如果最大值
的相关系数为以上,则前进到步骤以进行具有相关性的处理,如果相关系数
小于,则判断为不具有相关性,前进到步骤。
在步骤中,进行判定为具有相关性的情况下的规定的模式设定的处理。相当
于动作时间,因此能够判定出该后在上述的音乐播放器的模式设定中使用。
在步骤中,为了准备获取新的传感器信号,逐个地使评价数据错位
到评价数据、使评价数据错位到评价数据、…、使评价数据
错位到评价数据,返回到步骤。
在利用相关系数进行评价的情况下,当相关系数超过时,在获取接下来的
传感器信号来求出相关系数时相关系数或相关系数还是再次超过阂值的情
形多。这会导致进行不需要的模式设定,因此重复进行步骤、步骤以及步骤,
以使得不对接下来输入的个传感器信号进行相关性的评价。此外,在重复次数为第二次的cNlo64891llA说明书页
时间点不进行模式设定而等待是否存在第三次以后的重复的情况下,设置重复次数存储变
量来进行计数即可。即,在启动时将重复次数存储变量事先设定为零,在初次判定为具有相
关性的时间点将重复次数存储变量设定为。然后,跳过个传感器信号并重新评价相关系
数,如果判定为具有相关性,则对重复次数存储变量加而设为。
还能够考虑如下情况由于每个用户的节奏感、操作的熟练程度的不同而两个区
间的界线不紧密地相邻。或者在采样频率大的情况下也同样。在该情况下,只要设想两个区
间重叠或分离的情况而设置缓冲,例如将上述的个之前至个之前为止的个数据设
为`,个之前至个之前为止的个数据、其中为士”即可。这样,两个以上的时间
区间允许相当于规定时间以内的时间的采样数在本例中为个互相重合或分离。此外,如
图所示的那样,普通的动作时间比短的动作时间增加,因此优选将
的范围设定为的士以内以区别这两个动作时间。
关于上述的相关系数,在每个时间区间内使用相加平均来进行标准化。现实中存
在如下噪声在一方的时间区间偏向正值,在另一方的时间区间偏向负值。但是,有时当相
关系数在各个时间区间被标准化时针对该噪声的相关系数的值变大。着眼于用户反复进行
相同动作时的波形在每个这种时间区间不发生不同的偏差,在两个时间区间中共同使用两
个时间区间内的所有评价数据的相加平均,由此能够进行仅排除噪声的改善。
另外,现实中存在两个时间区间内振幅不同但形状相似的相似形的噪声,并且依
然存在相关系数的值变大的情况。着眼于用户反复进行相同动作时的波形的振幅也为大致
相同的大小,为了排除该相似形的噪声,使用个区间内的信号的绝对值、平方值来比较其
总和、平均值、最大值等,由此能够改善上述的基于相关系数的评价方法。
相关系数具有以下特征只要振幅变为峰值的时间点匹配,相关系数的值就变大。
例如还有时在采样频率为且动作周期为秒时,当两个峰值一致时相关系数超过。
这会导致在用户的动作中途实施模式设定的问题。
作为该问题的对策,还能够应用以下方法求出时间上相对应的时间点、例如个
之前与个之前、个之前与个之前的数据之差的绝对值的总和来进行判定。
求出振幅的绝对值的总和并与阂值进行比较,以避免在用户完全不进行动作从而
为零排列而成的数据中误判定为具有相关性。
在评价数据的符号被平衡良好地分配为正负从而相加平均能够长期被视作零的
情况下,优选的是着眼于符号。首先,将不存在用户的动作的状态下的接近零的微小值全部
置换为零,将其余的数据以只着眼于符号的方式置换为士后计算相关系数。在该情况下,
将平均值视作零来省略基于平均值的校正处理,分母的平方计算被汇总为或,分子的乘
法运算通过符号的组合而被汇总为士或,因此能够大幅地削减计算量。对于仅振幅不同
的相似形的波形的问题,能够通过求出振幅的绝对值的总和并与阂值进行比较来解决。
第二实施方式
如图所示,关于硬件的结构、功能模块的结构,除了波形对照部具备状态信息
串存储部这一点以外,与第一实施方式相同,因此省略详细的说明。
作为解决相似形的波形的问题且大幅地削减处理量的方法,优选的是着眼于相同
符号的数据持续的时间的长度和面积的图案。例如通过在皮肤导电率传感器、脉搏波传感
器中取输入数据的相邻差,能够获取根据用户的运动而符号被平衡良好地分配为正负的数cNlo64891llA说明书页
据串。波形对照部将符号相同的评价数据连续的区间设为作为个单位的小区间,将符
号信息、表示属于该小区间的评价数据的个数的区间长度、以及属于该小区间的评价数据
的值的总和或表示属于该小区间的评价数据的值的绝对值的总和的面积作为状态信息,以
小区间为单位将该状态信息按时间序列存储到状态信息串存储部中,在后面叙述波形
对照部的详细内容。并且,波形对照部根据相邻的两个时间区间内的按时间序列对
应的每个小区间的状态信息,来将相邻的两个时间区间的波形彼此对照。
图是根据符号和面积来进行两个以上的时间区间的波形彼此的对照时的波形
例。
如果有个正值的数据连续,则表示为,如果有个负值的数据连续,则表示为
,如果有个不存在用户的动作的状态下的振幅接近零的微小值连续,则表示为。
、以及为任意的整数相当于将符号相同的评价数据连续的区间设为作为
个单位的小区间。、以及分别表示符号信息,表示区间长度,该区间长度表示属于小区
间的评价数据的个数。从当前时间点向过去回溯,例如如果排列为`,
”,则将一个数据作为个周期而判定为具有相关性。此外,在`,
”中,区间长度的值从左边起依次为、、、、、。
在“”这种排列中,符号的图案为,,〕和,,州而
不一致,因此判定为不具有相关性。
在“”这种排列中,符号的图案为,,州和,,州而
一致,但是当查看符号连续的个数时,为「,,」「,,〕而不一致,因此判定为不具有相关
性。
状态变化不限定于上述的个的组合,例如以“
”这种个的组合也能够实施。此外,如果系统设计者判断为“显然不可能被人实施”,则
还能够对状态变化的个数设置限制以削减处理量。
接着,对用于解决相似形的波形的问题的面积的利用进行说明。只要在连续输入
的数据的符号相同的期间内单纯地将这些数据相加即可。如图所示,例如将“
”的原本的数据、即属于各小区间的评价数据设为以下那样。
,,,,
,,一
一,一,一,一,一,一,一
,,,,
,,
一,一,一,一,一,一,一
在该情况下,例如如上述的那样,表示属于原本的数据为“,,,,,,
的小区间的评价数据的值的总和的面积为“”。其它各小
区间也能够以同样的方式求出表示属于小区间的评价数据的值的总和的面积。因而,表示
属于小区间、、的评价数据的值的总和的面积被计算为“介
”。作为负的区间的的面积也可以使用绝对值来表示为
、。这样求出的各面积、符号信息以及区间长度作为状态信息以小区间为单
位按时间序列存储到状态信息串存储部中。cNlo64891llA说明书页
原本就微小,因此可以不评价面积。对于小区间和小区间,求出与相关
的组合的对方之间的面积比,例如如果将倍以内规定为具有相关性,则是优选的。
波形对照部对相邻的两个时间区间内的按时间序列对应的每个小区间和
每个小区间的状态信息计算出的面积进行对照。关于小区间的组,为
且,因此判定为具有相关性。关于小区间的组,使用其绝对值,为
火且火,因此判定为具有相关性。这样,在小区间的组和小
区间的组中的所有组中均判定为面积具有相关性,因此判定为整体上具有相关性。此
外,不需要每获取个传感器信号就进行该评价。通过仅在评价数据的符号变化时进行评
价,能够削减处理量,并且能够在用户的动作完成的时间点时机良好地给出判定结果。
图是用于说明波形对照部中的使用上述的符号图案和面积的波形对照方法
的一例的流程图。
在此,定义以下用语。
状态序列符号标志连续数面积
〕当前为。越向过去回溯,则按连续序号赋予越大的序号。
符号标志正值为,负值为,接近零的微小值为。
连续数相同符号标志连续的评价数据的个数。
〕面积相同符号标志连续的评价数据的值的总和。
〕初期只存在没有动作的状态持续了秒而得到的状态序列标志连续
数面积。在此,“符号标志”相当于符号信息,“连续数”相当于表示属于小区间的评
价数据的个数的区间长度,“面积”相当于表示属于小区间的评价数据的值的总和或属于小
区间的评价数据的值的绝对值的总和的面积。
当前状态数
〕当前有效的上述状态序列的个数。
初始值为。
相关性状态数
〕评价相关性的个区间的波形的状态序列的个数。
例如在如以下那样的状态序列的排列中,相关性状态数,具有相关性。
状态序列标志连续数面积
状态序列标志连续数面积
状态序列标志连续数面积一
状态序列标志连续数面积
状态序列标志连续数面积
状态序列标志连续数面积一
最大判定对象数据数
以数据数表示用户能够重复进行的动作时间的最大值。
例如当将个周期设为秒、以进行采样、将重复次数设为次时,
最大判定对象数据数为“火火”。
在步骤中,由传感器信号获取部的传感器以固定时间间隔获取传感器信
号。cNlo64891llA说明书页
〕在步骤的接下来的步骤中,将从所获取到的传感器信号的值减去获取到
的前一个传感器信号的值所得到的值作为当前数据。设置能够根据预先设定的阂值或所获
取到的传感器信号的大小而自动调整的阂值,并在当前数据的绝对值小于该阂值的情况
下,习各当前数据置换为。
〕在步骤的接下来的步骤中,判定当前数据的符号标志是否与状态序列
的符号标志相同,如果相同则前进到进入步骤,如果不同则前进到步骤。
〕在步骤中,对状态序列的连续数加,对面积加上当前数据的值。
在步骤中,进行使用图在后面叙述的相关性判定处理。
在步骤的接下来的步骤中,为了将状态序列设为空闲的序号以准
备接下来的步骤中创建新的状态序列,而对所有状态序列的序号加来使状态序
列的序号逐一错位。
在步骤的接下来的步骤中,新创建状态序列,对符号标志设置当
前数据的符号标志,对连续数设置,对面积设置当前数据的值。由于状态序列增加了个,
因此对当前状态数加。
在步骤或步骤的接下来的步骤中,为了判定保存数据是否超过了上
限,求出所有状态序列的连续数的总和后与最大判定对象数据数进行比较。如果所求出的
总和大于最大判定对象数据数,则前进到步骤,如果所求出的总和等于或小于最大判
定对象数据数,则返回到步骤。
在步骤中,将作为最早的状态序列的状态序列当前状态数废弃,状态序
列由于废弃而减少个,因此从当前状态数减。
接着,对图的相关性判定处理块进行说明。
〕在步骤中,由于要调查状态序列以每几个相关,因此为了将作为相关的最少
个数的个作为初始值而对相关性状态数设置。关于状态序列,每次符号标志变化时创建
新的状态序列。由此,相临的状态序列的符号标志一定不同。符号标志不同是指不相关,因
此状态序列为一个的情况不设为评价对象,因此初始值设为即可。
在步骤的接下来的步骤中,为了判定评价对象的状态序列是否已到最
后,如果相关性状态数的倍为当前状态数以下,则前进到步骤,否则返回并前进到步
骤。
〕在步骤的接下来的步骤中,判定要对照的两个时间区间在符号图案符
号标志和连续数上是否相关。更具体地说,判定状态序列与状态序列、状
态序列与状态序列、…、状态序列与状态序列中的所有符
号标志与连续数是否一致。如果一致,则前进到步骤,如果不一致,则前进到步骤。
此外,通过以要对照的两个时间区间各自的连续数的总和大致一致为条件而允许各个状态
序列的连续数最大相差士个,能够在考虑每个用户的节奏感或熟练程度、或者缓和采样频
率大时的反复动作的准确性上进行研究。例如,如果排列为“”,
则连续数的总和为一和一即相差,因此认为大致一致,而各自的对应的状
态序列`,一,一,一”的连续数的差异为士,因此判定为总的来说具
有相关性。在此示出了连续数的总和相差的例子,但是如图示出的那样,普通的动作时间
比短的动作时间增加,因此优选的是,将连续数的总和的差设定为连续数的总和大的cNlo64891llA说明书页
一方的以内以区别这两个动作时间。
〕在步骤中,为了判定要对照的两个时间区间在面积上是否相关,判定状态序
列与状态序列卜、状态序列与状态序列、…、状态序列
与状态序列的所有面积比将大的一方除以小的一方所得到的比率是否为倍
以内。如果为倍以内,则前进到步骤,否则前进到步骤。
在步骤中,对相关性状态数加以使要对照的状态序列增加个。
在步骤中,在进行了判定为具有相关性的情况下的规定的模式设定的处理之
后返回,前进到步骤。状态序列一的连续数的总和相当于动作时间,因此
能够判定该值来在上述的音乐播放器的模式设定中使用。
例如在正在驾驶车辆时为了给朋友打电话而打算以重复次数两次来调用地址簿
检索应用程序并且在动作的中途突然想起某事而想要取消该动作的情况下,如果通过进一
步追加次重复动作就能够取消,则很方便。在对重复次数为第次进行判定时,使上述的相
关性状态数固定,评价状态序列一和状态序列一的
符号标志、连续数、面积比。能够实现以下处理如果重复动作为第次,则将紧接在该第次
之前的第次时的模式设定取消。
在以上所说明的使用符号图案和面积的波形对照方法中,通过进一步在个周期
的最后设置不进行动作的状态,能够对不擅长快速动作的用户提供一种增加动作的变化的
方法。
例如通过瞬间进行使手紧接在“打开合上休息”、“打开合上休息”之后打开的动
作,来使系统检测符号标志的变化。
〕例如,有时存在如下一种用户,这种用户不擅长如图的中的上部使用“四分音
符、四分音符、八分音符、八分音符、四分音符、四分音符、八分音符、八分音符”表示的那样
的“嗒一嗒一嗒嗒、嗒一嗒一嗒嗒,,的节奏中的嗒嗒
这种快速动作。在该情况下,如图的中的下部使用“四分音符、四分音符、四分
休止符、四分音符、四分音符、四分休止符”表示的那样使用“嗒一嗒一、嗒一嗒一一
,在个周期的最后设置不进行动作的状态,由此产生能够实现相同
长度的周期这样的优点。此外,“一表示不进行动作的状态。
〕在个周期的开头设置不进行动作的状态也能够同样地实施。
第三实施方式
〕说明对佩戴于手腕的皮肤导电率传感器佩戴于生物体的传感器的一例安装本
发明的例子。除传感器以外的硬件的结构、功能块的结构与第一实施方式相同,因此省略说
明。在本实施方式中,由佩戴于生物体的传感器进行采样所得到的信号被用作传感器信号。
〕图示出作为生物体传感器之一的皮肤导电率传感器的外观图,图是设置于皮
肤导电率传感器中的传感器信号获取部的功能框图。图的示出皮肤导电率传感器
的从与人的皮肤接触的一侧观看到的状态,图的示出人佩戴时的状态。
〕如图的和图的所示,皮肤导电率传感器具有收纳有微计算机和电池
的盒部、与人的皮肤紧密贴合的两个电极、以及佩戴时卷绕在人的手腕上的佩戴
用带。如图的所示,在盒部的侧面设置有电源开关。
〕如图所示,设置于盒部的传感器信号获取部具有电流源、用于对电流cNlo64891llA说明书页
源的电流量进行控制的电流控制部、与电流控制部连接的两个电极、以及
用于将流过两个电极、之间的电流转换为导电率的导电率转换部。
〕皮肤导电率传感器是使两个电极、与人的皮肤紧密贴合后向电极、
之间施加微弱的电压并将流过电极之间的电流转换为导电率来进行监视的传感器。人
的皮肤因出汗而皮肤的导电率发生变化。皮肤导电率传感器的主要用途是,通过对由交
感神经的作用引起的手掌、手腕的出汗所导致的皮肤导电率的变化进行监视,来探测引起
交感神经的兴奋的情绪的产生。然而,当两个电极、与皮肤的接触状态发生变化时,
皮肤导电率传感器也发生反应。在佩戴于手腕的情况下,由于使手指运动、使手腕弯曲
或者使手腕转动而接触状态发生变化。通常,基于这些动作的检测信号被视作噪声而排除,
但是本发明在检测用户是否有节奏地重复进行了相同动作中使用该检测信号。
图是皮肤电阻传感器的信号的相临差“皮
肤导电反应”的曲线图。图的是源自鉴赏运动图像中产生的情绪的曲线图,图的
是基于手指的屈伸的运动伪影的曲线图。通过使用上述的相关系数、符号信息进行解
析,能够检测出图的中有节奏地重复进行了相同动作。
〕该安装的第一优点在于,即使在将手放在衣兜中或戴着手套的状态下也能够检测
由单手进行的动作。如果是在进行作为将人叫到跟前时的动作方式之一的“过来过来”时的
使食指至小拇指一起运动的动作,则即使戴着连指手套也能够进行动作。在隆冬时节用便
携式音乐播放器听音乐的场景下,在对装备于头戴式耳机的开关进行操作的现有技术中,
不得不将手从衣兜拿出并摘下手套,但是如果使用佩戴于手腕的本发明的皮肤导电率传感
器,则无需这样做。
该安装的第二优点在于,即使是使用佩戴于同一手腕的加速度传感器无法检测出
的细微的动作,皮肤导电率传感器也能够检测。反过来说,在佩戴于同一手腕的加速度
传感器检测出同样的有节奏的动作的情况下,能够将该动作作为噪声而排除。能够在模式
设定中使用上述的使手指运动的动作,能够将跳舞或一边摆手一边走路时的有节奏的信号
作为噪声忽略。
〕该安装的第三优点在于,能够削减由预备动作引起的对作为识别对象的手势的误
识别。例如在重复进行手的开闭动作的情况下,本发明不需要预先登记动作图案。因此,用
户只要进行以下动作即可如果自己是从将手打开的状态起开始进行动作的,则进行“合上
打开、合上打开”,如果自己是从将手合上的状态起开始进行动作的,则进行“打开合上、打
开合上”。由于预备动作本身不再存在,因此能够削减预备动作招致误识别的问题。当应用
于握着汽车的方向盘的情况时,只要进行“打开合上、打开合上”即可,不需要预备动作,并
且在动作结束时再次返回到握住方向盘的状态,因此在安全方面也可以说是优良的方法。
在皮肤导电率传感器的实施例中,对不设置阂值的优点进行说明。
〕皮肤导电率传感器能够捕捉到通过因手的开闭动作而手腕内侧的肌肉重复进
行隆起和凹陷而产生的皮肤与电极、的接触状态的变化。对于皮下脂肪少的用户而
言,由于肌肉的凹陷而皮肤与电极、分离,皮肤导电率几乎变为零,因此能够设置阂
值来与噪声进行区分。但是,如果是皮下脂肪厚的用户,则皮肤与电极、不会分离,皮
肤导电率只是平稳地变化而不变为零。因此,本发明不通过皮肤导电率是否超过阂值来判
定是否为用户有意识的动作,而是根据信号平稳地变化的情形是否周期性地重复来判定是cNlo64891llA说明书页
否为用户有意识的动作。
〕根据本发明,不仅能够帮助皮下脂肪厚的用户,还能够应对使手腕向手背侧弯曲
而使手腕内侧的皮肤伸展的动作,并且还能够应对只是握紧拳头或放松拳头这种微小动
作。
〕在本实施方式中,作为生物体信息,取皮肤导电率即皮肤电阻的信息为例子进行
了说明,但是还能够将心率、脉搏、血压、血氧浓度、体温、呼吸、脑电波、眨眼以及步数中的
任意的信息设为对象。
第四实施方式
〕对本发明与音乐播放之间的关联进行说明。如图所示,在本实施方式中,在被控
制对象装置中安装具备音乐播放功能的音乐播放部、音乐信息获取功能,除此以
外,输入设备中的硬件的结构、功能块的结构与第一实施方式相同,因此省略详细的说明。
本实施方式中的模式设定部将两个以上的时间区间的波形被判定为是大致相同的波形
的波形的时间长度换算为节拍,在将该节拍与音乐播放部中正在播放的音乐的节拍进
行比较而判定为具有相关性的情况下,将判定为是大致相同的波形的该判定废弃。
在输入信号被视作连续的两个周期的波形的情况下,实际上有可能只是用户正在
随着音乐跳舞,而并不是用户意识到输入而进行了动作。为了对此进行确认,在模式设定部
中,从被控制对象装置获得音乐播放的信息音乐播放部中正在播放的音乐的
节拍,将输入信号被视作连续的两个周期的波形两个以上的时间区间的波形的波形的
时间的长度时间长度换算为节拍,判定换算出的节拍与正在播放的音乐的节拍是否一致
或者某一方是否为另一方的整数倍。在判定的结果为两个节拍一致、即具有相关性的情况
下,判定为是用户在跳舞,将被视作为连续的两个周期的波形的波形废弃,不进行模式的设
定。
〕在该实施方式中,说明了模式设定部中的判定要领,但是也可以是模式设定部
向被控制对象装置提供输入信号被视作为连续的两个周期的波形的波形长度的信
息。被控制对象装置时良据被提供的波形长度来计算节拍,并与自身正在播放的音乐的节
拍进行比较。
或者,被控制对象装置也可以具备麦克风来代替音乐播放功能,根据被输入的
声音信号来检测外部环境音乐的节拍,并将检测出的节拍与根据从模式设定部提供的
波形的长度计算出的节拍进行比较。通过该结构能够削减卡拉房间中的误动作。
〕接着,对以下安装进行说明即使节拍一致,如果是预先已登记的动作,则不将该
动作废弃而进行模式设定。着眼于如果是播放着相同节拍的音乐则用户能够容易准确地再
现过去的动作,本实施方式进行了在预先登记动作的以往的方式中使用音乐的研究。
在登记时,一边播放音乐一边进行用户自己所决定的动作,来登记该动作图案、播
放的音乐的节拍以及模式设定要领。在模式设定时,一边播放音乐一边等待接收用户的动
作,当检测出是连续的两个周期的波形时,判定是否与正在播放的音乐的节拍匹配。如果与
正在播放的音乐的节拍匹配,则判定是否与已登记的动作图案的波形相关,如果判定为具
有相关性,则按照已登记的模式设定要领进行模式设定。
另外,在要进行对照的波形中的两个以上的时间区间在时间轴上不相邻并且在该
两个以上的时间区间中播放音乐的环境下使用输入设备的情况下,波形对照部在播cNlo64891llA说明书页
放的音乐的节拍在两个以上的时间区间内不同的情况下,根据在进行对照的两个时间区间
内播放的音乐的节拍的不同,对进行对照的两个时间区间中的一方的区间的波形的信息进
行编辑以使得能够视作该一方的区间的波形的长度与另一方的区间的波形的长度大致一
致,之后将波形彼此对照。
例如,在登记时和模式设定时的两个时间区间在时间轴上不相邻并且该登记时播
放的音乐与该模式设定时播放的音乐不同的情况下,根据登记时的音乐的节拍与模式设定
时的音乐的节拍之间的比率来使所登记的动作的长度伸缩。在使用相关系数的第一实施方
式中,能够使用未图示的采样率转换器来实现该伸缩。例如在以进行采样的皮肤导电
率传感器中,在登记时播放的音乐的节拍为“将四分音符设为”并且模式设定时的音乐的
节拍为“将四分音符设为”的情况下,使用采样率转换器来将模式设定时的采样数以
的采样进行上采样后进行对照。另外,能够通过增减第二实施方式中的相关性判定处理块
的步骤中的连续数的数量、或者增减相关性判定处理块的步骤中的面积的比率来
实现。
〕除了重复进行两次已登记的动作图案的实施例以外,以下应用程序也属于本发明
的范畴,该应用程序为在紧挨在重复进行两次用于启动模式设定功能的未登记的动作之
后,进行一次用于指定模式的已登记的动作图案。
〕根据本发明,在一边播放音乐一边驾驶车辆时只通过手的动作就能够向指定的对
方拨打电话或者调用重拨、回拨的功能。例如要调用拨打电话的功能时,进行以下过程。当
重复进行两次未登记的相同动作时,地址簿检索应用程序启动。为了指定拨打电话的对方,
最好为容易记忆的动作,用户事先登记例如如下动作来作为动作图案,该动作为在要向山
下先生拨打电话时在空中书写字母字,在要向冈本先生拨打电话时在空中书写字母字。
一边播放音乐一边实际地进行书写字母的动作,来登记动作图案、节拍以及功能。在用户要
向山下先生拨打电话的情况下,用户使手开闭两次后随着正在播放的音乐在空中书写一次
。系统将使手开闭两次的部分的评价数据检测为连续的两个周期的动作,并判定为与启动
地址簿检索应用程序的动作图案匹配。接着,该系统一边逐次获取使手开闭两次的部分的
接下来的评价数据,一边根据正在播放的音乐的节拍和已登记的节拍来使已登记的动作图
案伸缩,并且重复进行与已登记的电话号码的动作图案的对照。接着,该系统在用户写完
的时刻判定为与已登记的山下先生的的动作图案匹配,从而向山下先生拨打电话。也可以
将两个以上的传感器组合,在本例中,优选的是,利用皮肤导电率传感器来检测手的开闭,
利用加速度传感器来检测书写字母的动作。
〕在通常的手势识别中,为了吸收用户的动作时间不稳定的情况而使用隐马尔可夫
模型、动态时间伸缩法,但是存在计算量
大这种问题。在本发明中,通过播放音乐来使用户的动作时间保持固定,从而能够应用计算
量少的算法。
第五实施方式
〕在佩戴于手腕、手臂、手指、头、耳、腰、腹、胸等生物体的各种部位的佩戴型设备所
具备的生物体传感器中,除了存在由于本来的生物体反应而产生的传感器信号波动以外,
还存在由于佩戴者的动作而产生的传感器信号波动。
本发明的重要的视点之一在于,不妨碍根据由于生物体反应而产生的传感器信号cNlo64891llA说明书页
波动来检测生物体信息的生物体传感器的本来的功能,能够从由于佩戴者的动作而产生的
传感器信号波动中检测由于佩戴者有意的动作而产生的传感器信号波动。
〕近年来,开发出了腕带型手表型、眼镜型、戒指型、其它各种形式的佩戴型设备。
这种佩戴型设备被用于如下用途与便携式电话设备、智能手机等移动信息终端协作地获
取并显示各种信息。特别是,佩戴型设备被用于如下用途检测佩戴者的生物体信息,进行
各种信息处理、信息管理,由佩戴者阅览这些信息,系统向佩戴者发出各种警报,掌握佩戴
者的活动量、健康状态、感情状态来进一步进行控制。
生物体传感器设为检测对象的生物体信息为心率、心音、脉搏、血压、血氧浓度、体
温、呼吸、皮肤导电率、皮肤电位、脑电波、眨眼数等各种生物体信息。该生物体传感器大多
直接或间接地与皮肤接触来测定皮肤的电阻、静电电容等,或者向测定对象照射光、电磁
波、超声波并测定这些光、电磁波、超声波的反射、吸收,来获取并解析传感器信号。
〕在这些测定方法中,不仅由于佩戴了具备生物体传感器的佩戴型设备的佩戴者的
生物体反应而在传感器信号中产生波动,还由于佩戴者的动作而在传感器信号中产生波
动。不仅存在直接移动佩戴部位的情况,例如还存在如下情况在佩戴于手腕的皮肤导电率
传感器中,由于佩戴者的深呼吸而间接地在传感器信号中产生波动。
〕在图所示的皮肤导电率传感器中,利用由情绪产生的波形不存在周期性,来检
测由于佩戴者有意进行的周期性的动作而产生的波形,由此在保持本来的情绪检测的功能
的状态下,实现新添加检测有意的动作的功能。
〕图是示出佩戴于手腕的脉搏波传感器中的检测波形的一例的图。图的示
出基于手指的屈伸的周期性动作的检测波形,图的将纵轴扩大倍来示出图的
中的期间的一部分的期间。
在图所示的脉搏波传感器中,虽然脉搏波本身呈现周期性的波形,但是由于佩
戴者有意进行的周期性的动作而产生的波形的最大振幅为脉搏波的最大振幅的倍到
倍。因此,通过对评价数据的绝对值设置阂值并将基于脉搏波的振幅近似为零,能够检测由
于佩戴者有意进行的周期性的动作而产生的波形。反之,能够通过使振幅超过阂值的时间
区间在前后留有余量并忽略该余量来从其余的时间区间检测脉搏波。
这样,由于有意进行的周期性的动作而产生的传感器信号能够以其波动的周期
性、振幅的大小来与由于生物体反应而产生的传感器信号波动区分地进行处理,其周期性
的判定能够通过本发明中的方法来实施。
根据本发明,能够不妨碍佩戴型设备所具备的生物体传感器本来的生物体信息的
检测功能地将该生物体传感器还用作如下的输入设备通过还检测由用户有意进行的周期
性的动作引起的传感器信号波动来进行用户所意图的模式设定。
图是生物体传感器的功能框图。生物体传感器包含生物体信号获取部
,其获取由构成为能够佩戴于生物体的传感器进行采样所得到的传感器信号评价数据
串存储部,其存储评价数据,其中,该评价数据是传感器信号,或者是通过规定的加工方
法对传感器信号进行加工所得到的数据生物体信息检测部,其根据评价数据检测生物
体信息有意动作检测部,其按照本发明来根据评价数据检测周期性的动作以及评价
数据分配部,如果有必要则设置阂值来一边加工评价数据一边根据应检测的信息来将
评价数据分配给生物体信息检测部和有意动作检测部。cNlo64891llA说明书页
〕由此,不需要配置用于检测意图进行模式设定的动作的专用的传感器,只通过追
加对由生物体传感器获取到的传感器信号施加适当的信号处理的工序,就能够在进行作为
生物体传感器的本来的功能的生物体信息检测的同时,实现用于检测意图进行模式设定的
动作并进行设备操作、信息输入等的输入设备。
〕在此使用皮肤导电率传感器和脉搏波传感器这两个例子进行了说明,但是显而易
见的是,在其它现有的生物体传感器或者今后开发的生物体传感器中,也能够通过在使用
上述的测定方法的生物体传感器中使用本发明的方法,而不妨碍本来的生物体信息的检测
功能地检测由于用户有意进行的周期性的动作而产生的传感器信号波动。
关于测定来源于生物体的体温的红外线的传感器的用途,例如还存在如个人计算
机的离席探测系统那样不佩戴于生物体的情况。能够应用于以下应用程序根据是否在离
席前进行周期性的动作来区分地设定是否在省电模式下施加锁定。另外,在智能手机中,还
能够对配置于扬声器附近的红外线传感器应用本发明,以减少由于用户的脸与操作面接触
而产生的误动。在该情况下,由该红外线传感器进行采样所得到的信号采样信号被用作
传感器信号。例如,能够应用于以下应用程序在将智能手机设置于音乐播放用的对接台
来播放音乐时,不需要将智能手机拿到手中,而通过用手遮住该红外线
传感器并有节奏地进行动作来进行表所记载的模式设定。
第六实施方式
〕对在根据生物体的体温发生反应的红外线传感器中安装本发明的例子进行说明。
除传感器以外的硬件的结构、功能块的结构与第一实施方式相同,因此省略说明。在本实施
方式中,由红外线传感器进行采样所得到的信号采样信号被用作传感器信号。用于检测
作为生物体的手与红外线传感器之间的位置关系的变化。
〕图是将使手时而靠近时而远离红外线传感器时的信号、以及使手靠近红外线传
感器后快速地晃动手时的信号曲线图化所得到的图。图中的信号波形是使手缓慢地时
而靠近时而远离传感器时的波形。图中的信号波形是进行使手靠近传感器后在传感器
前快速地晃动手的动作时的波形。可知当用户进行周期性的动作时红外线传感器的输入信
号能够被视作连续的两个周期的波形。
〕另外,可知能够通过一个波形的区间长度或信号的波峰与波峰的间隔的长度的
不同来区分缓慢地进行动作时信号波形与快速地进行动作时信号波形助。
〕只是传感器不佩戴于生物体这一点与第一实施方式不同,能够与第一实施方式同
样地处理所获取的信号。
本发明能够具体化为计算机程序。例如,还能够将输入设备、传感器信号获取
部的各部的功能或者图、图以及图所示的各流程图以程序实现。因而,本发明的一部
分或全部能够编入硬件或软件包括固件、常驻软件、微代码、状态机、门阵列等。并且,本
发明能够取能够由计算机使用的存储介质或计算机可读的存储介质上的计算机程序制品
的形式,在该介质中编入能够由计算机使用的程序代码或计算机可读的程序代码。在本说
明书的上下文中,能够由计算机使用的介质或计算机可读的介质能够设为由命令执行系
统、装置或设备使用或与这些一起使用的能够对程序进行收录、存储、通信、传输或输送的
任意的介质。
〕如以上说明的那样,根据本发明,能够实现以下的信号处理对由用户所佩戴的传cNlo64891llA说明书页
感器进行采样所得到的以固定时间间隔获取到的数据进行解析,探测用户有意识地有节
奏地重复进行了多次的动作,来切换被控制对象的模式。另外,根据本发明,起到如下效果
取消了预先登记动作图案,或者使预先登记的动作图案的准确再现变得容易,由此使进行
是否设定被控制对象的模式的判定的错误减小。
附图标记说明
输入设备传感器信号获取部波形对照部状态信息存储部
模式设定部、评价数据串存储部被控制对象装置音乐播放部
皮肤导电率传感器皮肤导电率传感器盒部、电极佩戴用带
传感器信号获取部导电率转换部电流控制部电流源生物体传
感器生物体信号获取部评价数据分配部生物体信息检测部有意动
作检测部。CNIO64891llA说明书附图页
传传感器信号获生仅部部
二二
立立夕
睡
、,,,,冬,,,,,,,
鲜竺
被拧韦珍对象装置
产们手
图CNIO64891llA说明书附图页
肠瀚孙邪今
澎一磨习闷任朴开朴朴曰卜
这鑫犷
喊,一一朴如分一带卜
火润之一一飞石
一一弃八一丫一一了了了、、、硕硕硕翔翔事'丫
的沁伪沁如沁介
乒典国夕确分`州,,州““,`、``州杯杯臼踌一”一”,…………·”一分钧卜
滚润次间之
澎蘑象澎一廖象
一一一八一鑫鑫鑫鑫鑫黔尹尹``爪丫丫一丫八一一一一一一少少叫叫。。。。。
乍乍扮扮知、罕罕孰孰孰引引州州
称娜
娜令一一一一一一一一一一`一渗
鼓间
〔
动肋姗必公
幸份月︸
斌润火问之
一价
一巧办
珊琳祷。劫
几反巍澎,杯补协升朴升升林升娜斗杯朴份一一份一,,,份—一一巍
滚润准咬润之
一沁公
公
必
图CNIO64891llA说明书附图页
梅
拍公
公会
一舞仍
伪帕
一飞
幸的
每每梦个撰期犯以个样本本
喇喇冬冬食州激丫一…一瞅一一一一一一一一一一一一一一一一一一一一一一一一一一毛毛毛毛毛毛毛毛毛毛毛毛毛一气气气气气气气气气气气气气气气气气气
洛洛洛夕夕堆堆诱一一一崖崖,飞飞飞别王王王之李李李李李李吃吃吃吃吃吃吃吃吃吃吃吃………………
纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤纤沁琳琳次筑欠粼欠欠欠欠欠欠
之沁的
李功沁
沁公
幼扔
,一
二生
`落称的
一公加
一一一一一一一
一
``卜口口口口了一、神神神详详飞飞飞飞之么汀汀汀写写写垂垂吧吧汀汀汀汀门门“驯驯驯驯毅准翻翻翻次次次次次次次次次次次次次次次次次次次亡亡亡匀〔〔、、、、」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」」绪绪绪绪绪绪绪绪绪绪绪绪绪绪绪畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜畜一、、一一
每卜个戒欺内介个样水
﹃﹃沪卜于创厂荃贪仁仁别刃到,嘴
太考刃刃肠妇引引创找蓄爹﹀︸︸、、︸卜卜卜卜卜卜妻于牛牛毛灼了一﹄引引幻创习。论林落卫不拙书︸案
奎娜
牡
一匆
一重
“笼
一劲
喇喇喇喇喇喇袋如冲咚咚欢欢欢、、、''一一`一…
卜卜诀诀诀诀诀诀气气。准巧飞飞
一批批批
毕一一一一露巍一澎
司带一牛
一一
……
之么矛
址址“护呜呜不鑫鑫…………一」」一一
创别别蓄蓄蓄扣扣
图CNIO64891llA说明书附图页
、叉︸州哭林一斗甲︸︸
名。飞
计算
澳止自
使使砰价数据今豹数抹考逐、一铸位位
图CNIO64891llA说明书附图页
端端端孰巡
一一派形对照部部部一一一健一…”芬砚万五万瓜获…一谨一一羚份橄州丫州
摸式没定才州
图
的的的口八乙﹁丹心︸一一
图CNIO64891llA说明书附图页
乞庶鱼二乡
之“`、““、“`、`““`“,、、、砷申如中、州喊
获取币匆惑器信,号刹公飞
将愉入数
将小,'
据的丰到乞差设为当摘数据。
闷渔的微小似聋换为一卜、,料
别佣
亨号标志一场掩犬态
的符号健称苏相丈
对瘫犬态序列水。烤冲勺连续数加卜
对粼积加上燕前数据娜浪对所有状态序一烈
新新创嫂状念序歹雌椒织认认
对对符一号扎之志设,置当前数据的的
符符、号标志卜钾连续数设蟹卜卜
对对海积设置当前数井的似二二
对对当兹状态数加卜卜
的序号加从
钓、
奶
权袋笋少户
将状态序郊伽众当前状态欺废弃
从当前烤大态数减、一料的
图CNIO64891llA说明书附图页
你兵有报又性的处滚卜肠够
`万谁粉协
图CNIO64891llA说明书附图页
又
﹀、介`
段
、幸伟图CNIO64891llA说明书附图页
别
狡
………布…乏于于于于于
电电电极极极
电电电流湃湃湃
咨六︸味,,,,,,,,,,,,,户
传感器信号
图CNIO64891llA说明书附图页
沁奶加劝扔。加的排黝
︹︸︸朴
娜件科件
动伪泌。
八︺八︺八好尹沙八公淤沙
︹州月
图CNIO64891llA说明书附图页
伪子、
输入设备
厂`奎例
获取都传感器信号
厂沁
砰落介料︸
对照结果
厂崖璐
产呻“一一一一一竹一一冲匆
模式毅定部
评评价数姗串存储部部
模式设定洲们弓
之
被按制对象装置
乐播放都一味们。
图
犯CNIO64891llA说明书附图页
凑二
三
图CNIO64891llA说明书附图页
名好
扔扔扔扔扔扔扔扔扔扔扔扔崖
评评评价戮摇串存绪部一一`去孺截………………
之`、奋
图
`挂`轰轰鑫鑫
李李李''祠祠瘫熬熬瞥瞥从粼粼粼盆盆盆飞涵涵手手手手手手手手手手苏圣圣圣圣圣圣警警警警警畏段其次乏乏乏乏乏飞飞苏苏苏二二晒晒晒赶花花刃心七巧妙妙号号沼沼沼沼沼沼沼沼沼沼沼
…………「伙犷犷犷犷
一一一一…、攀「「犷犷
图
料