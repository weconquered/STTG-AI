 第27卷,第1期 中 国 铁 道 科 学 2 0 0 7年1月 CHINA RAII。WAY SCIENCE文章编号:1001—4632(2007)01—0076—05流线型列车头部外形设计方法许平,田红旗,姚曙光 (中南大学轨道交通安全教育部重点试验室,湖南长沙410075)V01.28 No.1 January,2007摘要:基于流线型的列车头部外形由三维空间自由曲面构成,提出采用NURBS曲线设计外形型线和用 三维NURBS曲面描述复杂三维曲面的车头外形设计方法。按照流线型列车头部外形的设计要求,首先生成基 本控制型线,根据需要自动生成中间控制型线;对一些型线进行空问动态修改,使所有控制型线构成空问网状 结构;将这些控制型线在空间的交点处断开,形成首尾相连的NURBS曲线段;自动将首尾相连的NURBS曲线 段连接形成外形曲面片,并保证曲面片在空间相切;最后对外形曲面进行光顺性检查,得到最终的外形曲面。 运用NURBS曲线曲面的数学模型,在AutoCAD的ARX及I-deas的Open I-deas开发平台上,开发了流线型列 车头部外形设计模块,实现了按照人们的意志,自由、快速地设计复杂的空间三维曲面流线型列车外形。关键词:流线型列车;外形设计;控制型线;NURBS曲线曲面 中图分类号:U260.2 文献标识码:A为了降低列车运行时的空气阻力,提高列车的 空气动力性能,列车头部外形一般由复杂的空间三 维自由曲面构成[1。]。设计空间三维自由曲面构成 的流线型外形可采用具有绘制三维自由曲面的通用 设计软件,如:美国EDS公司的I-deas和UG软 件,PTC公司的Pro—Engineer软件;法国达索飞 机公司的CATIA软件等。这些软件为保持其通用 性,在列车头部外形设计中需要大量的人工干预, 且耗时很长。为了保证设计精度,缩短设计周期, 本文提出了一套包含列车头部形状特征的流线型列 车头部外形设计方法。流线型列车头部外形的数学模型用CAD技术进行曲面造型设计,其核心问题 是既要解决能有效满足形状表示与几何设计要求的 计算机处理方法,又要建立便于产品形状数据交换 和信息传递的数学描述方法。而非均匀有理B样 条(NuRBS)方法可以精确地表示二次规则曲线 曲面,从而能用统一的数学形式表示规则曲面与自 由曲面;具有可影响自由曲线曲面形状的权因子, 使产品形状更易于控制和实现E3-sJ。构成流线型列车头部外形的型线由非均匀有理收稿日期:2005—12—21;修订日期:2006—10—17基金项目:国家高技术产业发展项目(2000—2458)作者简介:许平(1971一),男,湖南长沙人,讲师,博士研究生。B样条曲线构成,数学模型采用分段的矢值有理多 项式函数,其表达式为1l一0 式中:VI为控制定点;W:为权因子;B姒(“)为忌次B样条基函数。 构成流线型列车头部外形的空间三维曲面采用NURBS曲面,其数学表达式为∑∑B矾(u)Bj,z(砌)w嘶Vi,, P(“,叫)一 !三!.!三! (2)∑∑B泓(u)Bi,,(叫)IV嘶式中:K,,为控制顶点;W。为权因子;Bm(甜)和BIII(硼)分别为沿“向的le次和沿训向的z次B样 条基函数。祝和硼向的节点矢量分别为 H一[Mo一甜1一⋯=矶一o,‰+1,⋯,“,^1,U,一^=“,一^+1一⋯一“,一13 (3) W---一[侧。一叫1一⋯=姗一o,"gUl+l,⋯,叫,一卜1,姒一z一姒一f+1一⋯一弧一13 (4) 式中:沿“向和W向节点矢量的节点数分别为万方数据∑Bm(“)w。V,P(“)一立0_——一 2:Bm(“)W,(1)
 第1期 流线型列车头部外形设计方法 (r+1)和(s+1);r一孢+尼+1;S—m+Z+1。2流线型列车头部外形的基本算法以NURBS曲线曲面的数学模型为基础,在 AutoCAD的ARX和I—deas的Open I—deas开发平 台上提出了流线型列车头部外形设计算法,其主要内容如下:6’7]。2.1 外形型线的生成与修改 2.1.1基本控制型线的生成(1)输入NURBS曲线的控制点P,,P。,⋯, P。。(2)输入NURBS曲线首尾端的切矢V,,K。 (3)自动生成NURBS曲线,如图1所示。少P‘≯、一。 图1基本控制型线的生成2.1.2 中间型线的自动生成 (1)输入中间型线的平面。 (2)将已有的控制型线C,,Cz,⋯,G在中间型线的平面上生成投影线L,,Lz,⋯,L。 (3)计算控制型线与对应的投影线的交点P-,P2,⋯,P。。 (4)将这些交点在平面上沿指定的方向排序。 (5)将排序后的交点尸。,P2,⋯,只形成NURBS曲线,如图2所示。图2中问型线的自动生成2.1.3修改型线 (1)输入或实时拖动需修改型线的控制点或首尾切矢。 (2)更新形成NURBS曲线,如图3所示。2.1.4拟合连接型线如果外形型线中同时存在直线段、圆弧段及三 全部被分割断开,如图5所示。次自由曲线段时,利用NURBS曲线算法将其拟合 2.3外形曲面的生成 连接成三次NURBS曲线,算法如下。 当流线型列车头部外形控制型线在空间全部被(1)用一次或二次NURBS曲线分别准确表示 分割断开,形成首尾相连的NURBS曲线段后,自万方数据彩J,P—一 \、\图3修改外形型线各直线段、圆弧段,然后将其升阶为三次NURBS 曲线。(2)计算整条曲线的节点矢量。 (3)计算三次曲线段的边界条件。 (4)用三次NURBS曲线重新生成各自由曲线段。(5)在与直线段、圆弧段对应的节点处,取为三重节点。 (6)对求出的控制顶点及其权因子按对应的型值点间的相互关系排序。 (7)由上述计算得到的控制顶点、权因子和节点矢量重新定义1条三次NURBS曲线,如图4所 示。(a)拟合连接前 图4连接外形型线Co)拟合连接后2.2空间型线的自动求交与分割 当流线型列车头部外形控制型线在空间组成网格状结构后,为生成外形曲面片,需要将这些控制 型线在空间的交点处断开,形成首尾相连的 NURBS曲线段,具体算法如下。(1)输入控制型线G。(2)遍历所有的控制型线数据,求出与此控制 型线的交点P,,P。,⋯,R。(3)将交点P,,Pz,⋯,P。沿指定方向排序。(4)在排序后的交点P。,Pz,⋯,只处将控制型线断开,形成新的NURBS曲线段L。,L。, ⋯,L。。(5)循环(1)一(4),直至所有的控制型线
 78 中国铁道科学 第28卷图5空间型线的自动求交与分割动生成外形曲面片,具体算法如下。 (1)将空间NURBS曲线的首尾端点形成一无向序图的数据结构z; ̈:P;P~Pg’,i一1,2,⋯,m。 (2)在数据表中搜索P2’一P字,J—i,i+上最大曲率值和判断相邻曲面片问的C1和C2的连 续性。因此,对外形曲面光顺性检查可采用多种方 法综合进行。3流线型列车头部外形设计根据NURBS曲线曲面理论,在AutoCAD的 ARX、Fdeas的Open I-deas开发平台上,研发了 流线型列车头部外形设计方法。其主要模块菜单如 图7所示。1,⋯,m,得到新的NURBS曲线组舻’:P沪~ =翟f、≥蕊:≯=::箕^琵二东=:j《。“、杂筑|=二=《^篙:::?:,~~≤己鬟⋯一P绔’,i一1,2,⋯,扎; (3)在数据表中搜索P汐一P{i’,歹一i,i+1,⋯,m,得到新的NURBS曲线组距∞:Pl}’~ p~(3’,忌一1,2,⋯,0;(4)当p~(a’一P野’,且z;”≠z;2’≠碰”,由3条 NURBS曲线驴,驴,碰3’形成NURBS曲面。(5)在数据表中搜索Pli’一pi4’,歹一i,i+ 1,⋯,m,得到新的NURBS曲线组掣:P掣~p~(4’,乱=1,2,⋯,S。 (6)当p~(4’一Pg’,且z;”≠z;2’≠搿’≠掣’,由4条NURBS曲线驴,z;孙,珏孙,z≯’形成 NURBS曲面,如图6所示。图6外形曲面的自动生成2.4外形曲面的光顺检查 外形曲面设计完成后,由于显示屏尺寸及分辨率的限制,很难直接判断外形是否光顺。因此,必 须对曲面的光顺性进行检查分析。本文采用了光照 模型检查法、曲率云图检查法、等曲率线法及等高线法来实现外形曲面的光顺性检查。 光照模型方法实质上反映了曲面法矢的变化情 4况,能帮助我们判断曲面片间的C0和C1的连续 性,通过绘制真实感图形,对曲面有一个直观的了 解,但不能判断曲面片间的C2的连续性。绘制等 高线法能帮助我们了解曲面的形状,找出峰、谷以 及最大、最小值点。基于曲率云图检查法和等曲率 线法能识别出曲面的波动、凸凹区域等,找出曲面“中华之星”动车组流线型头部外 形设计“中华之星”动车组采用流线型双拱外形。由 于外形设计中既要考虑气动性能,又要考虑外形美 观,同时还需兼顾结构及工艺的要求。故头部外形 控制尺寸设计需综合考虑各方面因素,其外形控制万方数据l辫 ̈攀爝詈刻荛鬣T劁黼ll线生成|{线修改l{间断开及外l|光顺检查||话⋯i百‘。|i|形曲面生成l;工具 图7列车流线型头部外形设计软件的图标菜单流线型列车头部外形设计流程如下。 (1)按照外形的设计要求,首先生成三维曲面的基本控制型线。 (2)根据需要自动生成中间型线,实时拖动型线的控制点或首尾切矢,进行型线的修改。 (3)如果曲线中同时存在直线段、圆弧段及三 次自由曲线段时,用三次NURBS曲线插值各自由曲线段,将其重新定义1条三次NURBS曲线。 (4)头部外形所需的控制型线在空间组成网状 结构后,将这些控制型线在空间的交点处断开,形成许多首尾相连的NURBS曲线段。 (5)自动将首尾相连的NURBS曲线段连接形成外形曲面片,并保证曲面片在空间相切,生成流 线型列车头部外形。(6)采用光照模型检查法、曲率云图检查法、 等曲率线法以及等高线法对曲面的光顺性进行检 查。最后,根据厂家的数控加工设备参数,对生成 的外形曲面进行分块设计,在曲面用点或线定位, 得到外形曲面数据,指导外形蒙皮的加工制造。工具|}具}{
 第1期 流线型列车头部外形设计方法尺寸如图8所示。图8“中华之星”号头部外形控制尺寸(单位:mm)型检查法、曲率云图检查法、等曲率线法、等高线 法对外形曲面进行外形质量检查,最终形成的外形 曲面如图9所示。图9 “中华之星”号头部外形曲面5结论本文提出的流线型列车头部外形设计方法,可 按照外形的设计要求,首先生成外形的基本控制型 线,根据需要自动生成中间控制型线;然后对一些 型线进行空间动态修改,使所有控制型线构成空间 网状结构;随之将这些控制型线在空间的交点处断 开,形成首尾相连的NURBS睦线段;再自动将首 尾相连的NURBS曲线段连接形成外形曲面片,并 保证曲面片在空间相切;之后对外形曲面用曲面光 照、等高线、等曲率线等多种方法进行光顺性检 查,得到最终的外形曲面;最后,根据厂家的数控 加工设备参数,对生成的外形曲面进行分块设计, 在曲面用点或线定位,得到外形曲面数据,指导外 形蒙皮的加工制造。该方法能按照人们的意志,自 由、快速地设计出复杂的空间三维曲面流线型列车 外形,且具有很强的修改、检查功能。 纵向对称面外形轮廓线是头形设计的主要控制 型线之一。在设计中综合考虑气动性能及前窗、侧 窗、了望条件等要求后,采用了流线型双拱外形。 由于拱的斜度和位置对外形有重要影响,考虑流线 外形美观及气动性能的要求,拱距前端尺寸取为2 500 mm,拱的斜度取36。。俯视图最大轮廓线是头型设计的另一个重要的 控制型线。考虑到交会压力波及外形的整体美观, 将其设计为三维光滑过渡的“s”型曲线,其前端 与列车连接中心高度齐平,后端与车身的最宽处光 滑连接。由于采用双拱外形设计,司机室后墙位置又已 固定,司机室的空间相对较小。为尽量增大视觉空 间,前窗设计成整块大自由曲面玻璃。侧窗设计为 手动向后开启方式,其外形与三维曲面保持一致。 前灯的位置主要考虑美观及方便安装和维修。为满 足良好的空气动力学性能,前窗、侧窗、前灯均采 用大曲率的三维自由曲面设计。外形主型线控制尺寸设计完后,根据外形曲面 的需要,自动生成中间控制型线。经过对这些型线 进行多次修改调整,形成外形曲面,然后用光照模}参考文献Eli 田红旗,梁习峰,许平.气动力性能研究及外形、结构设计方法[J].中国铁道科学,2002,23(5):138— 141.[22(TIAN Hongqi,LIANG Xifeng,XU Ping.Research on the Aerodynamic Performance of Train and Its Configura— tion and Structure Design Method[J].China Railway Science,2002,23(5):138—141.in Chinese)田红旗,高广军.270 km·h叫流线型列车气动力性能研究[J].中国铁道科学,2003,24(2):14—18.(TIAN Hongqi,GAO GuanNun.The Analysis and Evaluation on the Aerodynamic Behavior of 270 km·h High—Speed Train[J].China Railway Science,2003,24(2):14—18.in Chinese)[32 许平,田红旗.复杂空间自由曲面设计软件研制EJ2.铁道车辆,1998,36(5):13—15.(XU Ping,TIAN Hongqi.Development of the Design Software for Complex Space Free Curved Surface I-j].Roll— ing Stock,1998,36(5):13—15.in Chinese)[4] 许平.列车头部外形及结构设计方法研究[D].长沙:中南大学,2003.(XU Ping.Research on the Shape and Structure Design Method of the High-Speed Train[D].Changsha:Central South University,2003.in Chinese)万方数据
 中国铁道科学 第28卷[s3 朱心雄.自由曲线曲面造型技术[M].北京:科学出版社,2000.[6] 孙家广,扬长贵.计算机图形学[M].北京:清华大学出版社,1981.[7] Woodward C D.Skinning Techniques for Interactive B-Spline Surface Interpolation口].Computer-Aided Design,1988,20(8):441—451.[8] 缪炳容,肖守讷.列车流线型外形三维参数化CAD系统[J].交通运输工程学报,2002,2(4):35—37.(MIAO Bingrong,XIAO Shoune.3-D Parametric CADSystem of Locomotive with Streamline Surface[J].Journalof Traffic and Transportation Engineering,2002,2(4):35—37.in Chinese)Shape Design Method for Streamlined Train HeadXU Ping,TIAN Hongqi,YAO Shuguang (KeyLaboratoryofTrafficSafetyontheTrackMinistryofEducation,Central South University,Changsha Hunan 410075,China)Abstract:The shape of streamlined train head iS made of the 3一dimensional space free form surface,whose shape outline curve uses NURBS curve and complex shape surface uses 3一D NURBS surface.Firstly the basiccontrolling outline curves of shape were built and then the assistant controlling outline curves were createdaccording to theshapedesign need of streamlinedtrain head.The wholecontrolling outline curves were made up of space grid structure after some modifications.The whole curves were broken at the point of space intersection and the NURBS curves were joined from beginning to end.They were connected to form shape surface which were ensured to be tangent in the space.Lastly the light—smooth check of shape surface were carried through,then the final shape of streamlined train head was gained.The shape design method of streamlined train head was realized on the ARX of AutoCAD and the Open I-deas of I—deas soft— ware flat roof on the Non Uniform Rational B Spline curve and surface mathematic model,the shape of streamlined train head was designed freely and quickly according to people's will.Key words:Streamlined train;Shape design;Controlling outline curve;NURBS line and surface(责任编辑杨宁清) ◆川)◆(九)◆⋯1◆⋯1◆ ̈ ̈◆⋯l◆⋯1◆1111◆i111◆⋯◆⋯1◆ ̈ ̈◆川1e-川◆”11◆1i11◆⋯1◆⋯1◆⋯◆川◆(九)◆⋯1◆" ̈◆⋯◆川1◆⋯I◆⋯1◆⋯1◆1111◆}111◆⋯1◆ ̈ ̈◆⋯1◆ ̈ ̈◆ ̈"◆⋯◆⋯1◆ ̈"◆⋯◆(九)◆⋯l◆”n.e-iill◆11ile,i1(上接第62页)450 MHz频段的双频段综合传输平台。试验内容包括:集群基站连接光纤/射频系统后的最大传输距离;光纤/射频系统与 基站相连后的系统时延;光纤/射频系统的场强覆盖;光纤/射频系统的网管系统功能和自愈保护功能;通话试验等。试验 结果表明:系统能满足铁路区间综合无线传输的要求,适合铁路线状分布特点,可延伸基站覆盖范围,实现大区覆盖。双 频段光纤/射频直放系统在铁路首次采用,为秦沈线无线通信工程的顺利开通提供了保证,研究结论具有参考价值,为今 后铁道部通信工程设计、施工、开通积累了经验。2005年9月通过了铁道部科技司组织的技术评审。26 秦沈线综合试验(通信信号)-------CTC系统试验秦沈客运专线调度集中系统具有高实时、高可靠、高安全、高可用性的特点,能够满足秦沈线运营的要求和做到全天 候不间断稳定运转;是具有自主知识产权的我国第一套客运专线行车指挥系统,通过秦沈线综合试验(通信信号)—— CTC系统试验以及实际运用的考验,证明该系统符合秦沈线调度集中设计技术条件的要求,满足客运专线列车运营管理的 需求,首次实现了调度中心列车和调车进路自动办理;首次实现了调度集中分机和计算机联锁上位机的一体化;首次实现 了调度中心办理人工解锁、区间封锁及限速等操作的能力,解决了信息安全传输、处理和应用的问题;首次实现了分散自 律控制功能,包括调度中心和车站数据传输通道正常情况下的车站分散自律控制功能,以及信道故障情况下自动启动车站 分散自律功能,达到了国际先进水平。2005年9月通过了铁道部科技司组织的技术评审。万方数据(下转第85页)